<!DOCTYPE html>
<html>
    <style>
        .butt{
            border: none;
            color: rgb(10, 9, 9);
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }
    </style>
    <!-- <form action="hostdb.php" method="POST"> -->
    <form action="hostdb.php" method="POST">
        <!-- <button id = "mybtn" class="butt" onclick="newnumber()"> Your Next Number is: </button> -->
        <button id = "mybtn"  class="butt" name = "btn" onclick="newnumber()"> Your Next Number is: </button>
        <input type = "hidden" name = "backval" id = "backval" value = ""/>
    </form>
    
    <p id="myarrs"></p>
    <br/>
    <p id="number"></p>
    <br>
    <p id="history">Number history: </p>
    
    <script>
        function shuffle(array) 
        {
        let currentIndex = array.length,  randomIndex;

        while (currentIndex != 0) {

        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;

        [array[currentIndex], array[randomIndex]] = [
        array[randomIndex], array[currentIndex]];
        }

        return array;
        }

        var arr = [1, 2 ,3 ,4 ,5 ,6 ,7 ,8 , 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25];
        shuffle(arr);
        

        function newnumber(){
                var randomArr = arr;//localStorage.getItem("randomarray");
                if(!localStorage.getItem("index"))
                {
                    localStorage.setItem("index", 0);
                    document.getElementById("history").innerHTML+=randomArr[0]+", ";
                    document.getElementById("number").innerHTML="Your next number is "+randomArr[0];
                    document.getElementById("backval").value = randomArr[0];
                } else{
                    var index = parseInt(localStorage.getItem("index"));
                    index+=1;
                    if(index<=arr.length-1){
                        //alert("index is: "+index);
                        localStorage.setItem("index",index);
                        document.getElementById("history").innerHTML+=randomArr[index]+", ";
                        document.getElementById("number").innerHTML="Your next number is "+randomArr[index];
                        document.getElementById("backval").value = randomArr[index];
                    } else{
                        alert("all numbers have been generated");
                    }
                }
            }            
        
        document.write("Randomized array:"+arr);

    </script>

</html>
